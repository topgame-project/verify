<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Wheel verify</title>
  <link rel="stylesheet" href="./lib/main.css">
  <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css">
  <script src="./lib/GoogleAnalytics.js"></script>
  <script src="./lib/vue.min.js"></script>
  <script src="./lib/crypto-js.js"></script>
  <script src="./lib/tools.js"></script>
</head>

<body>

  <div id="app" class="main">
    <h1 class="text-center pb-5">Wheel verify</h1>
    <hr>
    <form class="py-5">
      <h2 class="text-center">Input</h2>
      <div class="form-group">
        <input :value="client_seed" @change="client_seed = $event.target.value" class="form-control"
          placeholder="Client Seed">
      </div>
      <div class="form-group">
        <input :value="server_seed" @change="server_seed = $event.target.value" class="form-control"
          placeholder="Server Seed">
      </div>
      <div class="form-group">
        <input :value="nonce" @change="nonce = $event.target.value" class="form-control" placeholder="Nonce">
      </div>
      <div class="form-group">
        <select class='form-control' v-model="risk">
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
        </select>
      </div>
      <div class="form-group">
        <select class="form-control" v-model="segments">
          <option>10</option>
          <option>20</option>
          <option>30</option>
          <option>40</option>
          <option>50</option>
        </select>
      </div>
    </form>
    <hr>
    <form class="py-5">
      <h2 class="text-center pb-5">Output</h2>
      <div class="form-group">
        <label>sha256(server_seed)</label>
        <input class="form-control" readonly :value="sha256(server_seed)">
      </div>
      <div class="form-group">
        <label>hmac_sha256(client_seed:nonce, server_seed)</label>
        <input class="form-control" readonly :value="result_hash">
      </div>
    </form>
    <hr>
    <form class="py-5">
      <h2 class="text-center pb-5">Results</h2>
      <h5>Final Result</h5>
      <div class="form-group" style="overflow-x: auto;">
        <table class="table table-sm table-bordered">
          <tbody>
            <tr>
              <td v-for="(item, index) in final_result" :key="index"
                :class="{'bg-success': Math.floor(numResult * segments) === index}">{{ index }}</td>
            </tr>
            <tr>
              <td v-for="(item, index) in final_result" :key="index"
                :class="{'bg-success': Math.floor(numResult * segments) === index}">{{ item }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <h5>hmac_sha256(client_seed:nonce, server_seed)</h5>
      <div class="form-group" style="overflow-x: auto;">
        <table class="table table-sm table-bordered">
          <tbody>
            <tr>
              <td v-for="(item, index) in results.dec" :key="index" :class="{'text-muted': index > 3}">{{ item }}</td>
            </tr>
            <tr>
              <td v-for="(item, index) in results.hex" :key="index" :class="{'text-muted': index > 3}">{{ item }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <h5>Bytes to Number</h5>
      <div class="form-group">
        ({{results.hex[0] + ', ' + results.hex[1] + ', ' + results.hex[2] + ', ' + results.hex[3]}}) -> [0, ...
        {{final_result.length - 1}}] = <span class="text-success">{{Math.floor(numResult * segments)}}</span>
        <div><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span> {{Number(results.hex[0] /
            256).toFixed(9)}}&nbsp;&nbsp;&nbsp;&nbsp;</span><span>({{results.hex[0]}} / (256 ^ 1))</span></div>
        <div><span>+&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{{Number(results.hex[1] / (256 *
            256)).toFixed(9)}}&nbsp;&nbsp;&nbsp;&nbsp;</span><span>({{results.hex[1]}} / (256 ^ 2))</span></div>
        <div><span>+&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{{Number(results.hex[2] / (256 * 256 *
            256)).toFixed(9)}}&nbsp;&nbsp;&nbsp;&nbsp;</span><span>({{results.hex[2]}} / (256 ^ 3))</span></div>
        <div><span>+&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{{Number(results.hex[3] / (256 * 256 * 256 *
            256)).toFixed(9)}}&nbsp;&nbsp;&nbsp;&nbsp;</span><span>({{results.hex[3]}} / (256 ^ 4))</span></div>
        <div><span>=&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{{numResult}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>(*
          {{segments}})</div>
        <div><span>=&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-success">{{Number(numResult *
            segments).toFixed(9)}}</span></div>
      </div>
    </form>
  </div>
</body>
<script>
  let qs = tools.queryString();
  var app = new Vue({
    el: '#app',
    data: {
      /** inputs */
      client_seed: qs.c || '',
      server_seed: qs.s || '',
      server_seed_hash: qs.h || '',
      nonce: parseInt(qs.n) || 0,
      risk: qs.r || 'Low',
      rtp: qs.rtp || 99,
      segments: qs.t || 10,
      version: qs.version || 1,
      payoutEmus: [
        "1,1,0,1.5,1.9,1.6,1.3,1.5,2.4",
        "1,1,1,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,2,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,3,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,1,5,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,6,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,7,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,8,1.2,1.1,1.1,1.1,1.0,0.8",
        "1,1,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,2,0,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,2,1,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,2,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,3,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,2,5,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,6,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,7,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,8,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,2,10,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,2,11,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,12,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,13,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,2,15,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,16,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,17,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,18,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,2,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,0,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,3,1,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,2,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,3,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,5,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,6,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,7,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,8,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,10,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,3,11,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,12,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,13,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,15,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,16,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,17,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,18,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,20,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,3,21,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,22,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,23,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,3,25,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,26,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,27,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,28,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,3,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,0,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,4,1,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,2,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,3,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,5,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,6,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,7,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,8,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,10,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,4,11,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,12,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,13,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,15,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,16,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,17,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,18,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,20,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,4,21,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,22,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,23,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,25,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,26,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,27,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,28,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,30,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,4,31,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,32,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,33,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,34,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,4,35,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,36,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,37,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,38,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,4,39,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,0,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,5,1,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,2,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,3,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,5,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,6,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,7,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,8,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,10,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,5,11,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,12,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,13,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,15,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,16,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,17,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,18,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,20,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,5,21,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,22,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,23,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,25,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,26,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,27,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,28,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,30,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,5,31,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,32,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,33,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,34,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,35,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,36,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,37,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,38,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,39,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,40,1.5,1.9,1.6,1.3,1.5,1.7",
        "1,5,41,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,42,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,43,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,44,0.0,0.0,0.0,0.0,0.0,0.0",
        "1,5,45,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,46,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,47,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,48,1.2,1.1,1.1,1.1,1.0,0.9",
        "1,5,49,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,1,1.9,1.8,1.7,1.6,1.5,1.2",
        "2,1,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,3,1.5,1.4,1.3,1.2,1.0,1.0",
        "2,1,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,5,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,1,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,7,1.5,1.4,1.3,1.2,1.0,1.0",
        "2,1,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,1,9,3.0,3.0,3.0,3.0,3.0,3.0",
        "2,2,0,1.5,1.2,1.1,1.3,1.0,1.0",
        "2,2,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,2,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,4,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,6,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,8,1.5,1.2,1.1,1.3,1.0,1.0",
        "2,2,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,10,3.0,3.0,3.0,3.0,3.0,2.0",
        "2,2,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,12,1.8,1.8,1.4,1.6,1.2,1.2",
        "2,2,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,14,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,16,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,2,18,2.0,2.0,2.0,1.8,1.8,1.8",
        "2,2,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,0,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,2,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,4,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,6,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,8,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,10,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,12,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,14,3.0,2.5,2.7,2.4,2.4,2.4",
        "2,3,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,16,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,18,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,20,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,22,1.7,1.9,1.4,1.4,1.5,1.2",
        "2,3,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,24,4.0,4.0,4.0,4.0,3.0,3.0",
        "2,3,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,26,1.5,1.4,1.3,1.2,1.1,1.1",
        "2,3,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,3,28,2.0,2.0,2.0,2.0,2.0,1.8",
        "2,3,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,0,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,2,3.0,3.0,3.0,3.0,3.0,2.5",
        "2,4,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,4,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,6,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,8,3.0,3.0,3.0,3.0,3.0,2.5",
        "2,4,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,10,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,12,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,14,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,16,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,18,3.0,3.0,3.0,3.0,3.0,2.5",
        "2,4,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,20,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,22,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,24,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,26,1.6,1.4,1.6,1.2,1.4,1.4",
        "2,4,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,28,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,30,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,31,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,32,3.0,3.0,3.0,3.0,3.0,2.5",
        "2,4,33,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,34,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,35,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,36,2.0,2.2,2.0,2.0,1.8,1.8",
        "2,4,37,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,4,38,1.5,1.2,1.2,1.1,1.0,1.0",
        "2,4,39,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,0,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,2,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,4,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,6,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,8,3.0,2.5,2.5,2.2,2.4,2.2",
        "2,5,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,10,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,12,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,14,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,16,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,18,3.0,2.5,2.5,2.2,2.4,2.2",
        "2,5,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,20,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,22,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,24,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,26,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,28,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,30,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,31,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,32,3.0,2.5,2.5,2.2,2.4,2.2",
        "2,5,33,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,34,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,35,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,36,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,37,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,38,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,39,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,40,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,41,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,42,5.0,5.0,3.5,2.9,3.0,5.0",
        "2,5,43,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,44,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,45,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,46,2.0,2.0,2.0,2.0,1.6,1.6",
        "2,5,47,0.0,0.0,0.0,0.0,0.0,0.0",
        "2,5,48,1.5,1.5,1.5,1.5,1.5,1.2",
        "2,5,49,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,1,9,9.9,9.6,9.3,9.0,8.5,8.0",
        "3,2,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,10,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,12,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,16,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,18,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,2,19,19.8,19.2,18.6,18.0,17.0,16.0",
        "3,3,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,10,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,12,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,16,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,18,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,20,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,22,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,26,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,28,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,3,29,29.7,28.8,27.9,27.0,25.5,24.0",
        "3,4,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,10,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,12,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,16,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,18,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,20,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,22,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,26,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,28,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,30,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,31,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,32,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,33,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,34,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,35,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,36,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,37,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,38,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,4,39,39.6,38.4,37.2,36.0,34.0,32.0",
        "3,5,0,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,1,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,2,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,3,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,4,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,5,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,6,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,7,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,8,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,9,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,10,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,11,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,12,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,13,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,14,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,15,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,16,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,17,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,18,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,19,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,20,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,21,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,22,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,23,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,24,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,25,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,26,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,27,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,28,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,29,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,30,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,31,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,32,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,33,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,34,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,35,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,36,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,37,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,38,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,39,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,40,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,41,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,42,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,43,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,44,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,45,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,46,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,47,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,48,0.0,0.0,0.0,0.0,0.0,0.0",
        "3,5,49,49.5,48.0,46.5,45.0,42.5,40.0"
      ],
    },
    computed: {
      result_hash() {
        return this.hmac_sha256(this.client_seed + ":" + this.nonce, this.server_seed);
      },
      result_hash_list() {
        return String(this.result_hash)
      },
      final_result() {
        const riskIdx = ['Low', 'Medium', 'High'].indexOf(this.risk) || 0
        return this.wheelPayout[riskIdx + 1][this.segments]
      },
      results() {
        let list = this.result_hash_list
        let res = {
          dec: [],
          hex: []
        }
        for (let i = 0; i < list.length; i += 2) {
          let dext = list[i] + list[i + 1]
          let hext = parseInt(dext, 16)
          res.dec.push(dext)
          res.hex.push(hext)
        }
        return res
      },
      numResult() {
        let num = 0
        let list = this.results.hex
        for (let i = 0; i < 4; i++) {
          num += list[i] / Math.pow(256, (i + 1))
        }
        return num.toFixed(9)
      },
      wheelPayout() {
        return this.dealWheelPayout(this.payoutEmus, this.rtp)
      }
    },
    watch: {
      'this.results'() {
        ga('send', 'event', 'Wheel', 'verify', this.server_seed, { metric0: this.client_seed, metric1: this.nonce })
      }
    },
    created() {
      console.log(this.result_hash_list)
    },
    methods: {
      hmac_sha256(msg, salt) {
        return CryptoJS.HmacSHA256(msg, salt);
      },
      sha256(value) {
        return CryptoJS.SHA256(CryptoJS.enc.Utf8.parse(value));
      },
      sha512(value) {
        return CryptoJS.SHA512(CryptoJS.enc.Utf8.parse(value));
      },
      parseInt(value) {
        return window.parseInt(value, 16);
      },
      dealWheelPayout(payoutList, rtp = 99) {
        const payoutIndex = { 99: 0, 96: 1, 93: 2, 90: 3, 85: 4, 80: 5 }
        const curRtp = payoutIndex.hasOwnProperty(rtp) ? rtp : 99
        const pLists = payoutList.reduce((pre, cur) => {
          const [segment, row, posIndex, ...restPayout] = cur.split(',')
          const showRow = row * 10
          if (!pre[segment]) pre[segment] = {}
          if (!pre[segment][showRow]) pre[segment][showRow] = []
          pre[segment][showRow][posIndex] = Number(restPayout[payoutIndex[curRtp]])
          return pre
        }, {})
        return pLists
      }
    }
  });
</script>

</html>